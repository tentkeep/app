(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61c0ca10"],{"2e86":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"p2"},[e("form",{staticClass:"v-fill flex-column",on:{submit:function(s){return s.preventDefault(),t.saveEntry(s)}}},[e("label",{staticClass:"primary font-2",attrs:{for:"artistName"}},[t._v("*Artist name:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.artistName,expression:"artistName"}],staticClass:"input m1-top",attrs:{name:"artistName",type:"text",placeholder:"artist name"},domProps:{value:t.artistName},on:{input:[function(s){s.target.composing||(t.artistName=s.target.value)},t.search]}}),e("transition",{attrs:{name:"fade-in"}},[t.searchResults?e("div",{staticClass:"scrolly border-primary shadow-primary3 m1-h"},[0===t.searchResults.length?e("p",[t._v("No artists found")]):t._e(),t._l(t.searchResults,(function(s){return e("div",{key:s.id,staticClass:"artist-result",class:{selected:t.selectedArtist===s},on:{click:function(e){return t.artistSelected(s)}}},[e("img",{staticClass:"artist-image",attrs:{src:t.firstAlbumImage(s)}}),e("div",{staticClass:"artist-description"},[e("p",{staticClass:"primary"},[t._v(t._s(s.attributes.name))]),e("p",{staticClass:"muted-color font-2"},[t._v("Latest: "),e("span",{staticClass:"muted2"},[t._v(t._s(t.firstAlbumName(s)))])])])])}))],2):t._e()]),e("button",{staticClass:"button add-button m2-top",attrs:{disabled:!t.artistId}},[t._v("Add")])],1)])},r=[],i=(e("b0c0"),e("ac1f"),e("5319"),e("970e")),n=function(t,s){try{return t()||s}catch(e){return s}},u={tryGet:n},c={name:"AddMusicArtist",data:function(){return{artistName:null,artistId:null,searchResults:null,selectedArtist:null,typeAheadTimer:null}},methods:{search:function(){var t=this;this.artistName.length>2&&(clearTimeout(this.typeAheadTimer),this.typeAheadTimer=setTimeout((function(){i["a"].searchMusicArtists(t.artistName).then((function(s){t.searchResults=s.results.artists.data}))}),700))},firstAlbum:function(t){return t.relationships.albums.data[0]||{attributes:{artwork:{}}}},firstAlbumName:function(t){var s=this.firstAlbum(t);return u.tryGet((function(){return s.attributes.name}),"")},firstAlbumImage:function(t){var s,e,a=this.firstAlbum(t);try{return e=u.tryGet,console.log(e),s=u.tryGet((function(){return a.attributes.artwork.url}),""),s.replace(/{w}|{h}/g,"100")}catch(r){}},artistSelected:function(t){this.artistId=t.id,this.selectedArtist=t},saveEntry:function(){this.$emit("submit",{entryType:"music",details:{artistId:this.artistId}})}}},l=c,o=(e("441e"),e("2877")),m=Object(o["a"])(l,a,r,!1,null,"3d340f15",null);s["default"]=m.exports},"441e":function(t,s,e){"use strict";var a=e("8c8e"),r=e.n(a);r.a},"8c8e":function(t,s,e){},b0c0:function(t,s,e){var a=e("83ab"),r=e("9bf2").f,i=Function.prototype,n=i.toString,u=/^\s*function ([^ (]*)/,c="name";a&&!(c in i)&&r(i,c,{configurable:!0,get:function(){try{return n.call(this).match(u)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-61c0ca10.900becb4.js.map